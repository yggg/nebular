(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{DRQ8:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),u=function(){return function(){}}(),a=t("pMnS"),r=t("KM9H"),c=t("vuB0"),i=t("4vXS"),o=t("7uv5"),b=t("MGne"),s=t("NfCQ"),f=t("kztb"),p=t("V+dw"),d=t("8bEz"),h=t("k6ER"),w=t("4Ssn"),g=t("S+eJ"),F=t("Ip0R"),H=t("jvbL"),v=function(){function n(n){var l=this;this.authService=n,this.alive=!0,this.authService.onTokenChange().pipe(Object(H.a)(function(){return l.alive})).subscribe(function(n){l.token=null,n&&n.isValid()&&(l.token=n)})}return n.prototype.login=function(){var n=this;this.authService.authenticate("azure").pipe(Object(H.a)(function(){return n.alive})).subscribe(function(n){})},n.prototype.logout=function(){var n=this;this.authService.logout("azure").pipe(Object(H.a)(function(){return n.alive})).subscribe(function(n){})},n.prototype.ngOnDestroy=function(){this.alive=!1},n}(),k=t("BDhN"),m=e.vb({encapsulation:2,styles:[],data:{}});function y(n){return e.Rb(0,[(n()(),e.xb(0,0,null,null,1,"button",[["nbButton",""],["status","success"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.login()&&e),e},null,null)),(n()(),e.Pb(-1,null,["Sign In with Azure"]))],null,null)}function z(n){return e.Rb(0,[(n()(),e.xb(0,0,null,null,1,"button",[["nbButton",""],["status","warning"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.logout()&&e),e},null,null)),(n()(),e.Pb(-1,null,["Sign Out"]))],null,null)}function O(n){return e.Rb(0,[(n()(),e.xb(0,0,null,null,16,"nb-layout",[],[[2,"window-mode",null],[2,"with-scroll",null],[2,"with-subheader",null]],[["window","scroll"],["window","resize"]],function(n,l,t){var u=!0;return"window:scroll"===l&&(u=!1!==e.Hb(n,1).onScroll(t)&&u),"window:resize"===l&&(u=!1!==e.Hb(n,1).onResize(t)&&u),u},r.f,r.b)),e.wb(1,4374528,null,0,c.b,[i.a,o.a,e.k,e.G,b.f,b.b,e.D,s.c,f.a,p.a,d.a,h.a],null,null),(n()(),e.xb(2,0,null,3,14,"nb-layout-column",[],[[2,"left",null],[2,"start",null]],null,null,r.e,r.a)),e.wb(3,49152,null,0,c.a,[],null,null),(n()(),e.xb(4,0,null,0,12,"nb-card",[],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"status-basic",null],[2,"status-control",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-basic",null],[2,"accent-control",null]],null,null,w.f,w.b)),e.wb(5,49152,null,0,g.b,[],null,null),(n()(),e.xb(6,0,null,1,10,"nb-card-body",[],null,null,null,w.e,w.a)),e.wb(7,49152,null,0,g.a,[],null,null),(n()(),e.xb(8,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),e.Pb(9,null,["Current User Authenticated: ",""])),(n()(),e.xb(10,0,null,0,2,"p",[],null,null,null,null,null)),(n()(),e.Pb(11,null,["Current User Token: ",""])),e.Jb(0,F.h,[]),(n()(),e.mb(16777216,null,0,1,null,y)),e.wb(14,16384,null,0,F.n,[e.T,e.P],{ngIf:[0,"ngIf"]},null),(n()(),e.mb(16777216,null,0,1,null,z)),e.wb(16,16384,null,0,F.n,[e.T,e.P],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,14,0,!t.token),n(l,16,0,t.token)},function(n,l){var t=l.component;n(l,0,0,e.Hb(l,1).windowModeValue,e.Hb(l,1).withScrollValue,e.Hb(l,1).withSubheader),n(l,2,0,e.Hb(l,3).leftValue,e.Hb(l,3).startValue),n(l,4,1,[e.Hb(l,5).tiny,e.Hb(l,5).small,e.Hb(l,5).medium,e.Hb(l,5).large,e.Hb(l,5).giant,e.Hb(l,5).primary,e.Hb(l,5).info,e.Hb(l,5).success,e.Hb(l,5).warning,e.Hb(l,5).danger,e.Hb(l,5).basic,e.Hb(l,5).control,e.Hb(l,5).hasAccent,e.Hb(l,5).primaryAccent,e.Hb(l,5).infoAccent,e.Hb(l,5).successAccent,e.Hb(l,5).warningAccent,e.Hb(l,5).dangerAccent,e.Hb(l,5).basicAccent,e.Hb(l,5).controlAccent]),n(l,9,0,!!t.token),n(l,11,0,e.Qb(l,11,0,e.Hb(l,12).transform(t.token)))})}function j(n){return e.Rb(0,[(n()(),e.xb(0,0,null,null,1,"nb-playground-azure",[],null,null,null,O,m)),e.wb(1,180224,null,0,v,[k.a],null,null)],null,null)}var S=e.tb("nb-playground-azure",v,j,{},{},[]),A=function(){function n(n,l){var t=this;this.authService=n,this.router=l,this.alive=!0,this.authService.authenticate("azure").pipe(Object(H.a)(function(){return t.alive})).subscribe(function(n){n.isSuccess()&&n.getRedirect()&&t.router.navigateByUrl(n.getRedirect())})}return n.prototype.ngOnDestroy=function(){this.alive=!1},n}(),R=t("ZYCi"),V=e.vb({encapsulation:2,styles:[],data:{}});function x(n){return e.Rb(0,[(n()(),e.xb(0,0,null,null,4,"nb-layout",[],[[2,"window-mode",null],[2,"with-scroll",null],[2,"with-subheader",null]],[["window","scroll"],["window","resize"]],function(n,l,t){var u=!0;return"window:scroll"===l&&(u=!1!==e.Hb(n,1).onScroll(t)&&u),"window:resize"===l&&(u=!1!==e.Hb(n,1).onResize(t)&&u),u},r.f,r.b)),e.wb(1,4374528,null,0,c.b,[i.a,o.a,e.k,e.G,b.f,b.b,e.D,s.c,f.a,p.a,d.a,h.a],null,null),(n()(),e.xb(2,0,null,3,2,"nb-layout-column",[],[[2,"left",null],[2,"start",null]],null,null,r.e,r.a)),e.wb(3,49152,null,0,c.a,[],null,null),(n()(),e.Pb(-1,0,["Authenticating..."]))],null,function(n,l){n(l,0,0,e.Hb(l,1).windowModeValue,e.Hb(l,1).withScrollValue,e.Hb(l,1).withSubheader),n(l,2,0,e.Hb(l,3).leftValue,e.Hb(l,3).startValue)})}function E(n){return e.Rb(0,[(n()(),e.xb(0,0,null,null,1,"nb-playground-azure-callback",[],null,null,null,x,V)),e.wb(1,180224,null,0,A,[k.a,R.l],null,null)],null,null)}var P=e.tb("nb-playground-azure-callback",A,E,{},{},[]),I=t("gIcY"),D=t("t/Na"),T=t("0ICW"),C=t("Abgx"),N=t("znn7"),J=t("Y4k2"),M=t("Bc6B"),B=t("6y2k"),_=t("++eV"),q=t("X/Iy"),Q=t("mrSG"),X=t("F/XL"),G=t("15JJ"),Y=t("67Y/"),K=t("9Z1F"),U=t("4pP6"),Z=t("89WS"),L=t("V1Ee"),W=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Object(Q.c)(l,n),l.prototype.getValue=function(){return this.token.id_token},l.NAME="nb:auth:azure:token",l}(U.c),$=function(n){function l(){var l,t,e=null!==n&&n.apply(this,arguments)||this;return e.redirectResultHandlers=((l={})[Z.c.CODE]=function(){return Object(X.a)(e.route.snapshot.queryParams).pipe(Object(G.a)(function(n){return n.code?e.requestToken(n.code):Object(X.a)(new L.a(!1,n,e.getOption("redirect.failure"),e.getOption("defaultErrors"),[]))}))},l.id_token=function(){var n=e.getOption("authorize.requireValidToken");return Object(X.a)(e.route.snapshot.fragment).pipe(Object(Y.a)(function(n){return e.parseHashAsQueryParams(n)}),Object(Y.a)(function(l){return l.error?new L.a(!1,l,e.getOption("redirect.failure"),e.getOption("defaultErrors"),[]):new L.a(!0,l,e.getOption("redirect.success"),[],e.getOption("defaultMessages"),e.createToken(l,n))}),Object(K.a)(function(n){var l=[];return l.push(n instanceof U.a?n.message:"Something went wrong."),Object(X.a)(new L.a(!1,n,e.getOption("redirect.failure"),l))}))},l),e.redirectResults=((t={})[Z.c.CODE]=function(){return Object(X.a)(null)},t.id_token=function(){return Object(X.a)(e.route.snapshot.fragment).pipe(Object(Y.a)(function(n){return e.parseHashAsQueryParams(n)}),Object(Y.a)(function(n){return!(!n||!n.id_token&&!n.error)}))},t),e}return Object(Q.c)(l,n),l.setup=function(n){return[l,n]},l}(q.a),nn=t("i6JN"),ln=t("F4EV"),tn=t("IVq4"),en=t("NFr4"),un=t("0AKQ"),an=t("DJEY"),rn=t("+q8+"),cn=t("+Zd3"),on=t("4aFR"),bn=function(){return function(){}}();t.d(l,"AzurePlaygroundModuleNgFactory",function(){return sn});var sn=e.ub(u,[],function(n){return e.Eb([e.Fb(512,e.j,e.gb,[[8,[a.a,S,P]],[3,e.j],e.z]),e.Fb(4608,F.p,F.o,[e.w,[2,F.H]]),e.Fb(4608,I.z,I.z,[]),e.Fb(4608,D.k,D.q,[F.d,e.D,D.o]),e.Fb(4608,D.r,D.r,[D.k,D.p]),e.Fb(5120,D.a,function(n){return[n]},[D.r]),e.Fb(4608,D.n,D.n,[]),e.Fb(6144,D.l,null,[D.n]),e.Fb(4608,D.j,D.j,[D.l]),e.Fb(6144,D.b,null,[D.j]),e.Fb(4608,D.g,D.m,[D.b,e.s]),e.Fb(4608,D.c,D.c,[D.g]),e.Fb(4608,d.a,d.a,[R.l]),e.Fb(5120,T.b,C.c,[T.f]),e.Fb(5120,T.c,C.d,[T.b,e.s]),e.Fb(5120,T.d,C.e,[T.c]),e.Fb(4608,N.b,N.b,[N.a,T.d]),e.Fb(4608,J.b,J.a,[N.b]),e.Fb(4608,M.a,M.a,[J.b]),e.Fb(4608,k.a,k.a,[M.a,T.c]),e.Fb(4608,B.a,B.a,[]),e.Fb(4608,_.a,_.a,[D.c,R.a]),e.Fb(4608,q.a,q.a,[D.c,R.a,b.f]),e.Fb(4608,$,$,[D.c,R.a,b.f]),e.Fb(1073742336,F.c,F.c,[]),e.Fb(1073742336,I.y,I.y,[]),e.Fb(1073742336,I.i,I.i,[]),e.Fb(1073742336,D.e,D.e,[]),e.Fb(1073742336,D.d,D.d,[]),e.Fb(1073742336,R.p,R.p,[[2,R.u],[2,R.l]]),e.Fb(1073742336,nn.a,nn.a,[]),e.Fb(1073742336,ln.a,ln.a,[]),e.Fb(1073742336,tn.a,tn.a,[en.a]),e.Fb(1073742336,un.a,un.a,[]),e.Fb(1073742336,an.a,an.a,[]),e.Fb(1073742336,rn.a,rn.a,[]),e.Fb(1073742336,cn.a,cn.a,[]),e.Fb(1073742336,on.a,on.a,[]),e.Fb(1073742336,C.a,C.a,[]),e.Fb(1073742336,bn,bn,[]),e.Fb(1073742336,u,u,[]),e.Fb(256,D.o,"XSRF-TOKEN",[]),e.Fb(256,D.p,"X-XSRF-TOKEN",[]),e.Fb(1024,R.j,function(){return[[{path:"",component:v},{path:"callback",component:A}]]},[]),e.Fb(256,T.f,{strategies:[[$,{name:"azure",clientId:"bde728e2-2809-4ff1-bc9c-7fcb23800ebe",clientSecret:"",authorize:{endpoint:"https://login.microsoftonline.com/01513fd2-16a0-453b-9fa0-c9089bfa023e/oauth2/authorize",responseType:"id_token",scope:"openid",redirectUri:"https://akveo.github.io/nebular/example/azure/callback",params:{p:"b2c_1_nebular"}},token:{class:W},redirect:{success:"/example/azure"}}]]},[]),e.Fb(256,N.a,U.e,[]),e.Fb(256,T.a,"Authorization",[]),e.Fb(256,T.e,C.b,[])])})}}]);
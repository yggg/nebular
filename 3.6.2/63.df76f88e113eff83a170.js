(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{DRQ8:function(n,l,e){"use strict";e.r(l);var u=e("CcnG"),t=function(){return function(){}}(),a=e("pMnS"),r=e("KM9H"),c=e("vuB0"),o=e("4vXS"),i=e("7uv5"),b=e("MGne"),s=e("NfCQ"),d=e("kztb"),f=e("V+dw"),p=e("8bEz"),h=e("k6ER"),g=e("4Ssn"),v=e("S+eJ"),D=e("Ip0R"),w=e("jvbL"),F=function(){function n(n){var l=this;this.authService=n,this.alive=!0,this.authService.onTokenChange().pipe(Object(w.a)(function(){return l.alive})).subscribe(function(n){l.token=null,n&&n.isValid()&&(l.token=n)})}return n.prototype.login=function(){var n=this;this.authService.authenticate("azure").pipe(Object(w.a)(function(){return n.alive})).subscribe(function(n){})},n.prototype.logout=function(){var n=this;this.authService.logout("azure").pipe(Object(w.a)(function(){return n.alive})).subscribe(function(n){})},n.prototype.ngOnDestroy=function(){this.alive=!1},n}(),k=e("BDhN"),m=u.tb({encapsulation:2,styles:[],data:{}});function y(n){return u.Pb(0,[(n()(),u.vb(0,0,null,null,1,"button",[["nbButton",""],["status","success"]],null,[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.login()&&u),u},null,null)),(n()(),u.Nb(-1,null,["Sign In with Azure"]))],null,null)}function O(n){return u.Pb(0,[(n()(),u.vb(0,0,null,null,1,"button",[["nbButton",""],["status","warning"]],null,[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.logout()&&u),u},null,null)),(n()(),u.Nb(-1,null,["Sign Out"]))],null,null)}function S(n){return u.Pb(0,[(n()(),u.vb(0,0,null,null,16,"nb-layout",[],[[2,"window-mode",null],[2,"with-scroll",null],[2,"with-subheader",null],[2,"overlay-scroll-block",null]],[["window","scroll"],["window","resize"]],function(n,l,e){var t=!0;return"window:scroll"===l&&(t=!1!==u.Fb(n,1).onScroll(e)&&t),"window:resize"===l&&(t=!1!==u.Fb(n,1).onResize(e)&&t),t},r.f,r.b)),u.ub(1,4374528,null,0,c.b,[o.a,i.a,u.k,u.F,b.f,b.b,u.C,s.c,d.a,f.a,p.a,h.a],null,null),(n()(),u.vb(2,0,null,3,14,"nb-layout-column",[],[[2,"left",null],[2,"start",null]],null,null,r.e,r.a)),u.ub(3,49152,null,0,c.a,[],null,null),(n()(),u.vb(4,0,null,0,12,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,g.f,g.b)),u.ub(5,49152,null,0,v.b,[],null,null),(n()(),u.vb(6,0,null,1,10,"nb-card-body",[],null,null,null,g.e,g.a)),u.ub(7,49152,null,0,v.a,[],null,null),(n()(),u.vb(8,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),u.Nb(9,null,["Current User Authenticated: ",""])),(n()(),u.vb(10,0,null,0,2,"p",[],null,null,null,null,null)),(n()(),u.Nb(11,null,["Current User Token: ",""])),u.Hb(0,D.h,[]),(n()(),u.kb(16777216,null,0,1,null,y)),u.ub(14,16384,null,0,D.n,[u.S,u.O],{ngIf:[0,"ngIf"]},null),(n()(),u.kb(16777216,null,0,1,null,O)),u.ub(16,16384,null,0,D.n,[u.S,u.O],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,14,0,!e.token),n(l,16,0,e.token)},function(n,l){var e=l.component;n(l,0,0,u.Fb(l,1).windowModeValue,u.Fb(l,1).withScrollValue,u.Fb(l,1).withSubheader,u.Fb(l,1).overlayScrollBlock),n(l,2,0,u.Fb(l,3).leftValue,u.Fb(l,3).startValue),n(l,4,1,[u.Fb(l,5).xxsmall,u.Fb(l,5).xsmall,u.Fb(l,5).small,u.Fb(l,5).medium,u.Fb(l,5).large,u.Fb(l,5).xlarge,u.Fb(l,5).xxlarge,u.Fb(l,5).active,u.Fb(l,5).disabled,u.Fb(l,5).primary,u.Fb(l,5).info,u.Fb(l,5).success,u.Fb(l,5).warning,u.Fb(l,5).danger,u.Fb(l,5).hasAccent,u.Fb(l,5).primaryAccent,u.Fb(l,5).infoAccent,u.Fb(l,5).successAccent,u.Fb(l,5).warningAccent,u.Fb(l,5).dangerAccent,u.Fb(l,5).activeAccent,u.Fb(l,5).disabledAccent]),n(l,9,0,!!e.token),n(l,11,0,u.Ob(l,11,0,u.Fb(l,12).transform(e.token)))})}function z(n){return u.Pb(0,[(n()(),u.vb(0,0,null,null,1,"nb-playground-azure",[],null,null,null,S,m)),u.ub(1,180224,null,0,F,[k.a],null,null)],null,null)}var j=u.rb("nb-playground-azure",F,z,{},{},[]),A=function(){function n(n,l){var e=this;this.authService=n,this.router=l,this.alive=!0,this.authService.authenticate("azure").pipe(Object(w.a)(function(){return e.alive})).subscribe(function(n){n.isSuccess()&&n.getRedirect()&&e.router.navigateByUrl(n.getRedirect())})}return n.prototype.ngOnDestroy=function(){this.alive=!1},n}(),x=e("ZYCi"),V=u.tb({encapsulation:2,styles:[],data:{}});function C(n){return u.Pb(0,[(n()(),u.vb(0,0,null,null,4,"nb-layout",[],[[2,"window-mode",null],[2,"with-scroll",null],[2,"with-subheader",null],[2,"overlay-scroll-block",null]],[["window","scroll"],["window","resize"]],function(n,l,e){var t=!0;return"window:scroll"===l&&(t=!1!==u.Fb(n,1).onScroll(e)&&t),"window:resize"===l&&(t=!1!==u.Fb(n,1).onResize(e)&&t),t},r.f,r.b)),u.ub(1,4374528,null,0,c.b,[o.a,i.a,u.k,u.F,b.f,b.b,u.C,s.c,d.a,f.a,p.a,h.a],null,null),(n()(),u.vb(2,0,null,3,2,"nb-layout-column",[],[[2,"left",null],[2,"start",null]],null,null,r.e,r.a)),u.ub(3,49152,null,0,c.a,[],null,null),(n()(),u.Nb(-1,0,["Authenticating..."]))],null,function(n,l){n(l,0,0,u.Fb(l,1).windowModeValue,u.Fb(l,1).withScrollValue,u.Fb(l,1).withSubheader,u.Fb(l,1).overlayScrollBlock),n(l,2,0,u.Fb(l,3).leftValue,u.Fb(l,3).startValue)})}function N(n){return u.Pb(0,[(n()(),u.vb(0,0,null,null,1,"nb-playground-azure-callback",[],null,null,null,C,V)),u.ub(1,180224,null,0,A,[k.a,x.l],null,null)],null,null)}var E=u.rb("nb-playground-azure-callback",A,N,{},{},[]),R=e("gIcY"),P=e("t/Na"),I=e("0ICW"),B=e("Abgx"),M=e("znn7"),T=e("Y4k2"),J=e("Bc6B"),_=e("6y2k"),X=e("++eV"),q=e("X/Iy"),H=e("mrSG"),Q=e("F/XL"),Y=e("15JJ"),G=e("67Y/"),K=e("9Z1F"),U=e("4pP6"),Z=e("89WS"),L=e("V1Ee"),W=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Object(H.c)(l,n),l.prototype.getValue=function(){return this.token.id_token},l.NAME="nb:auth:azure:token",l}(U.c),$=function(n){function l(){var l,e,u=null!==n&&n.apply(this,arguments)||this;return u.redirectResultHandlers=((l={})[Z.c.CODE]=function(){return Object(Q.a)(u.route.snapshot.queryParams).pipe(Object(Y.a)(function(n){return n.code?u.requestToken(n.code):Object(Q.a)(new L.a(!1,n,u.getOption("redirect.failure"),u.getOption("defaultErrors"),[]))}))},l.id_token=function(){var n=u.getOption("authorize.requireValidToken");return Object(Q.a)(u.route.snapshot.fragment).pipe(Object(G.a)(function(n){return u.parseHashAsQueryParams(n)}),Object(G.a)(function(l){return l.error?new L.a(!1,l,u.getOption("redirect.failure"),u.getOption("defaultErrors"),[]):new L.a(!0,l,u.getOption("redirect.success"),[],u.getOption("defaultMessages"),u.createToken(l,n))}),Object(K.a)(function(n){var l=[];return l.push(n instanceof U.a?n.message:"Something went wrong."),Object(Q.a)(new L.a(!1,n,u.getOption("redirect.failure"),l))}))},l),u.redirectResults=((e={})[Z.c.CODE]=function(){return Object(Q.a)(null)},e.id_token=function(){return Object(Q.a)(u.route.snapshot.fragment).pipe(Object(G.a)(function(n){return u.parseHashAsQueryParams(n)}),Object(G.a)(function(n){return!(!n||!n.id_token&&!n.error)}))},e),u}return Object(H.c)(l,n),l.setup=function(n){return[l,n]},l}(q.a),nn=e("i6JN"),ln=e("F4EV"),en=e("0AKQ"),un=e("DJEY"),tn=e("+q8+"),an=e("+Zd3"),rn=e("4aFR"),cn=function(){return function(){}}();e.d(l,"AzurePlaygroundModuleNgFactory",function(){return on});var on=u.sb(t,[],function(n){return u.Cb([u.Db(512,u.j,u.eb,[[8,[a.a,j,E]],[3,u.j],u.y]),u.Db(4608,D.p,D.o,[u.v,[2,D.G]]),u.Db(4608,R.z,R.z,[]),u.Db(4608,P.k,P.q,[D.d,u.C,P.o]),u.Db(4608,P.r,P.r,[P.k,P.p]),u.Db(5120,P.a,function(n){return[n]},[P.r]),u.Db(4608,P.n,P.n,[]),u.Db(6144,P.l,null,[P.n]),u.Db(4608,P.j,P.j,[P.l]),u.Db(6144,P.b,null,[P.j]),u.Db(4608,P.g,P.m,[P.b,u.r]),u.Db(4608,P.c,P.c,[P.g]),u.Db(4608,p.a,p.a,[x.l]),u.Db(5120,I.b,B.c,[I.f]),u.Db(5120,I.c,B.d,[I.b,u.r]),u.Db(5120,I.d,B.e,[I.c]),u.Db(4608,M.b,M.b,[M.a,I.d]),u.Db(4608,T.b,T.a,[M.b]),u.Db(4608,J.a,J.a,[T.b]),u.Db(4608,k.a,k.a,[J.a,I.c]),u.Db(4608,_.a,_.a,[]),u.Db(4608,X.a,X.a,[P.c,x.a]),u.Db(4608,q.a,q.a,[P.c,x.a,b.f]),u.Db(4608,$,$,[P.c,x.a,b.f]),u.Db(1073742336,D.c,D.c,[]),u.Db(1073742336,R.y,R.y,[]),u.Db(1073742336,R.i,R.i,[]),u.Db(1073742336,P.e,P.e,[]),u.Db(1073742336,P.d,P.d,[]),u.Db(1073742336,x.p,x.p,[[2,x.u],[2,x.l]]),u.Db(1073742336,nn.a,nn.a,[]),u.Db(1073742336,ln.a,ln.a,[]),u.Db(1073742336,en.a,en.a,[]),u.Db(1073742336,un.a,un.a,[]),u.Db(1073742336,tn.a,tn.a,[]),u.Db(1073742336,an.a,an.a,[]),u.Db(1073742336,rn.a,rn.a,[]),u.Db(1073742336,B.a,B.a,[]),u.Db(1073742336,cn,cn,[]),u.Db(1073742336,t,t,[]),u.Db(256,P.o,"XSRF-TOKEN",[]),u.Db(256,P.p,"X-XSRF-TOKEN",[]),u.Db(1024,x.j,function(){return[[{path:"",component:F},{path:"callback",component:A}]]},[]),u.Db(256,I.f,{strategies:[[$,{name:"azure",clientId:"bde728e2-2809-4ff1-bc9c-7fcb23800ebe",clientSecret:"",authorize:{endpoint:"https://login.microsoftonline.com/01513fd2-16a0-453b-9fa0-c9089bfa023e/oauth2/authorize",responseType:"id_token",scope:"openid",redirectUri:"https://akveo.github.io/nebular/example/azure/callback",params:{p:"b2c_1_nebular"}},token:{class:W},redirect:{success:"/example/azure"}}]]},[]),u.Db(256,M.a,U.e,[]),u.Db(256,I.a,"Authorization",[]),u.Db(256,I.e,B.b,[])])})}}]);
(self.webpackChunknebular=self.webpackChunknebular||[]).push([[9788],{79788:function(e,t,s){"use strict";s.r(t),s.d(t,{ChatModule:function(){return $e}});var n=s(61116),a=s(75656),o=s(86884),r=s(46489),i=s(27054),l=s(91161),u=s(11785),c=s(99624),p=s(45773),g=s(31041),m=s(88543),f=s(42177);function d(e,t){if(1&e){var s=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"span",8),u.NdJ("click",function(){u.CHM(s);var e=u.oxw().$implicit;return u.oxw(2).removeFile(e)}),u._uU(2,"\xd7"),u.qZA(),u.qZA()}if(2&e){var n=u.oxw().$implicit;u.Udp("background-image",n.urlStyle)}}function h(e,t){if(1&e){var s=u.EpF();u.TgZ(0,"div"),u._UZ(1,"nb-icon",9),u.TgZ(2,"span",8),u.NdJ("click",function(){u.CHM(s);var e=u.oxw().$implicit;return u.oxw(2).removeFile(e)}),u._uU(3,"\xd7"),u.qZA(),u.qZA()}}function y(e,t){if(1&e&&(u.ynx(0),u.YNc(1,d,3,2,"div",6),u.YNc(2,h,4,0,"div",7),u.BQk()),2&e){var s=t.$implicit;u.xp6(1),u.Q6J("ngIf",s.urlStyle),u.xp6(1),u.Q6J("ngIf",!s.urlStyle)}}function b(e,t){if(1&e&&(u.TgZ(0,"div",4),u.YNc(1,y,3,2,"ng-container",5),u.qZA()),2&e){var s=u.oxw();u.xp6(1),u.Q6J("ngForOf",s.droppedFiles)}}function v(e,t){if(1&e&&u._UZ(0,"nb-icon",13),2&e){var s=u.oxw(2);u.Q6J("icon",s.buttonIcon)}}function x(e,t){if(1&e&&u._uU(0),2&e){var s=u.oxw(2);u.Oqu(s.buttonTitle)}}function w(e,t){if(1&e){var s=u.EpF();u.TgZ(0,"button",10),u.NdJ("click",function(){return u.CHM(s),u.oxw().sendMessage()}),u.YNc(1,v,1,1,"nb-icon",11),u.YNc(2,x,1,1,"ng-template",null,12,u.W1O),u.qZA()}if(2&e){var n=u.MAs(3),a=u.oxw();u.ekj("with-icon",!a.buttonTitle),u.Q6J("status",a.getButtonStatus()),u.xp6(1),u.Q6J("ngIf",!a.buttonTitle)("ngIfElse",n)}}var F=function(){function e(e,t){this.cd=e,this.domSanitizer=t,this.status="basic",this.inputFocus=!1,this.inputHover=!1,this.droppedFiles=[],this.imgDropTypes=["image/png","image/jpeg","image/gif"],this.message="",this.messagePlaceholder="Type a message",this.buttonTitle="",this.buttonIcon="paper-plane-outline",this.showButton=!0,this.dropFiles=!1,this.dropFilePlaceholder="Drop file to send",this.send=new u.vpe,this.onInputChange=new u.vpe,this.fileOver=!1}return e.prototype.onDrop=function(e){var t=this;if(this.dropFiles&&(e.preventDefault(),e.stopPropagation(),this.fileOver=!1,e.dataTransfer&&e.dataTransfer.files))for(var s=function(e){var s=e;if(n.imgDropTypes.includes(e.type)){var a=new FileReader;a.onload=function(e){s.src=e.target.result,s.urlStyle=t.domSanitizer.bypassSecurityTrustStyle("url("+s.src+")"),t.cd.detectChanges()},a.readAsDataURL(e)}n.droppedFiles.push(s)},n=this,a=0,o=e.dataTransfer.files;a<o.length;a++)s(o[a])},e.prototype.removeFile=function(e){var t=this.droppedFiles.indexOf(e);t>=0&&this.droppedFiles.splice(t,1)},e.prototype.onDragOver=function(){this.dropFiles&&(this.fileOver=!0)},e.prototype.onDragLeave=function(){this.dropFiles&&(this.fileOver=!1)},e.prototype.sendMessage=function(){(this.droppedFiles.length||String(this.message).trim().length)&&(this.send.emit({message:this.message,files:this.droppedFiles}),this.message="",this.droppedFiles=[])},e.prototype.setStatus=function(e){this.status!==e&&(this.status=e,this.cd.detectChanges())},e.prototype.getInputStatus=function(){return this.fileOver?this.getHighlightStatus():this.inputFocus||this.inputHover?this.status:"basic"},e.prototype.getButtonStatus=function(){return this.getHighlightStatus()},e.prototype.getHighlightStatus=function(){return"basic"===this.status||"control"===this.status?"primary":this.status},e.prototype.onModelChange=function(e){this.onInputChange.emit(e)},e.\u0275fac=function(t){return new(t||e)(u.Y36(u.sBO),u.Y36(c.H7))},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-form"]],hostVars:2,hostBindings:function(e,t){1&e&&u.NdJ("drop",function(e){return t.onDrop(e)})("dragover",function(){return t.onDragOver()})("dragleave",function(){return t.onDragLeave()}),2&e&&u.ekj("file-over",t.fileOver)},inputs:{message:"message",messagePlaceholder:"messagePlaceholder",buttonTitle:"buttonTitle",buttonIcon:"buttonIcon",showButton:"showButton",dropFiles:"dropFiles",dropFilePlaceholder:"dropFilePlaceholder"},outputs:{send:"send",onInputChange:"onInputChange"},decls:4,vars:7,consts:[["class","dropped-files",4,"ngIf"],[1,"message-row"],["nbInput","","fullWidth","","type","text",3,"status","ngModel","placeholder","focus","blur","mouseenter","mouseleave","ngModelChange","keyup.enter"],["nbButton","","class","send-button",3,"status","with-icon","click",4,"ngIf"],[1,"dropped-files"],[4,"ngFor","ngForOf"],[3,"background-image",4,"ngIf"],[4,"ngIf"],[1,"remove",3,"click"],["icon","file-text-outline","pack","nebular-essentials"],["nbButton","",1,"send-button",3,"status","click"],["pack","nebular-essentials",3,"icon",4,"ngIf","ngIfElse"],["title",""],["pack","nebular-essentials",3,"icon"]],template:function(e,t){1&e&&(u.YNc(0,b,2,1,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"input",2),u.NdJ("focus",function(){return t.inputFocus=!0})("blur",function(){return t.inputFocus=!1})("mouseenter",function(){return t.inputHover=!0})("mouseleave",function(){return t.inputHover=!1})("ngModelChange",function(e){return t.message=e})("ngModelChange",function(e){return t.onModelChange(e)})("keyup.enter",function(){return t.sendMessage()}),u.qZA(),u.YNc(3,w,4,5,"button",3),u.qZA()),2&e&&(u.Q6J("ngIf",null==t.droppedFiles?null:t.droppedFiles.length),u.xp6(2),u.ekj("with-button",t.showButton),u.s9C("placeholder",t.fileOver?t.dropFilePlaceholder:t.messagePlaceholder),u.Q6J("status",t.getInputStatus())("ngModel",t.message),u.xp6(1),u.Q6J("ngIf",t.showButton))},directives:[n.O5,p.h,g.Fj,g.JJ,g.On,n.sg,m.f,f.D],encapsulation:2,changeDetection:0}),e}(),M=s(99713),Z=function(){function e(){this.customMessages=new Map}return e.prototype.register=function(e,t){this.customMessages.set(e,t)},e.prototype.unregister=function(e){return this.customMessages.delete(e)},e.prototype.getInstance=function(e){return this.customMessages.get(e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}();function J(e,t){if(1&e&&(u.ynx(0),u._uU(1),u.BQk()),2&e){var s=u.oxw();u.xp6(1),u.hij(" ",s.initials," ")}}var O=function(){function e(){this.avatarClass=!0}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-avatar"]],hostVars:4,hostBindings:function(e,t){2&e&&(u.Udp("background-image",t.avatarStyle),u.ekj("avatar",t.avatarClass))},inputs:{initials:"initials",avatarStyle:"avatarStyle"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&u.YNc(0,J,2,1,"ng-container",0),2&e&&u.Q6J("ngIf",!t.avatarStyle)},directives:[n.O5],encapsulation:2,changeDetection:0}),e}();function D(e,t){if(1&e&&(u.TgZ(0,"p",2),u._uU(1),u.TgZ(2,"time"),u._uU(3),u.ALo(4,"date"),u.qZA(),u.qZA()),2&e){var s=u.oxw();u.xp6(1),u.hij("",s.sender," "),u.xp6(2),u.Oqu(u.xi3(4,2,s.date,s.dateFormat))}}function q(e,t){if(1&e&&(u.TgZ(0,"p",3),u._uU(1),u.qZA()),2&e){var s=u.oxw();u.xp6(1),u.Oqu(s.message)}}var _=function(){function e(){this.dateFormat="shortTime"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-message-text"]],inputs:{sender:"sender",message:"message",date:"date",dateFormat:"dateFormat"},decls:2,vars:2,consts:[["class","sender",4,"ngIf"],["class","text",4,"ngIf"],[1,"sender"],[1,"text"]],template:function(e,t){1&e&&(u.YNc(0,D,5,5,"p",0),u.YNc(1,q,2,1,"p",1)),2&e&&(u.Q6J("ngIf",t.sender||t.date),u.xp6(1),u.Q6J("ngIf",t.message))},directives:[n.O5],pipes:[n.uU],encapsulation:2,changeDetection:0}),e}(),C=function(){return(C=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var a in t=arguments[s])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function S(e,t){if(1&e&&u._UZ(0,"nb-icon",7),2&e){var s=u.oxw().$implicit;u.Q6J("icon",s.icon)}}function T(e,t){if(1&e&&u._UZ(0,"div"),2&e){var s=u.oxw().$implicit;u.Udp("background-image",s.urlStyle)}}function Q(e,t){if(1&e&&(u.TgZ(0,"a",4),u.YNc(1,S,1,1,"nb-icon",5),u.YNc(2,T,1,2,"div",6),u.qZA()),2&e){var s=t.$implicit;u.Q6J("href",s.url,u.LSH),u.xp6(1),u.Q6J("ngIf",!s.urlStyle&&s.icon),u.xp6(1),u.Q6J("ngIf",s.urlStyle)}}function I(e,t){if(1&e&&(u.ynx(0),u.TgZ(1,"div",2),u.YNc(2,Q,3,3,"a",3),u.qZA(),u.BQk()),2&e){var s=u.oxw();u.xp6(2),u.Q6J("ngForOf",s.readyFiles)}}function N(e,t){if(1&e&&u._UZ(0,"nb-icon",7),2&e){var s=u.oxw(2);u.Q6J("icon",s.readyFiles[0].icon)}}function k(e,t){if(1&e&&u._UZ(0,"div"),2&e){var s=u.oxw(2);u.Udp("background-image",s.readyFiles[0].urlStyle)}}function A(e,t){if(1&e&&(u.ynx(0),u.TgZ(1,"a",4),u.YNc(2,N,1,1,"nb-icon",5),u.YNc(3,k,1,2,"div",6),u.qZA(),u.BQk()),2&e){var s=u.oxw();u.xp6(1),u.Q6J("href",s.readyFiles[0].url,u.LSH),u.xp6(1),u.Q6J("ngIf",!s.readyFiles[0].urlStyle&&s.readyFiles[0].icon),u.xp6(1),u.Q6J("ngIf",s.readyFiles[0].urlStyle)}}var j=function(){function e(e,t){this.cd=e,this.domSanitizer=t,this.dateFormat="shortTime"}return Object.defineProperty(e.prototype,"files",{set:function(e){var t=this;this.readyFiles=(e||[]).map(function(e){var s=t.isImage(e);return C(C({},e),{urlStyle:s&&t.domSanitizer.bypassSecurityTrustStyle("url("+e.url+")"),isImage:s})}),this.cd.detectChanges()},enumerable:!1,configurable:!0}),e.prototype.isImage=function(e){var t=e.type;return!!t&&["image/png","image/jpeg","image/gif"].includes(t)},e.\u0275fac=function(t){return new(t||e)(u.Y36(u.sBO),u.Y36(c.H7))},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-message-file"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",files:"files"},decls:4,vars:7,consts:[[3,"sender","date","dateFormat","message"],[4,"ngIf"],[1,"message-content-group"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"icon",4,"ngIf"],[3,"background-image",4,"ngIf"],[3,"icon"]],template:function(e,t){1&e&&(u.TgZ(0,"nb-chat-message-text",0),u._uU(1),u.qZA(),u.YNc(2,I,3,1,"ng-container",1),u.YNc(3,A,4,3,"ng-container",1)),2&e&&(u.Q6J("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)("message",t.message),u.xp6(1),u.hij(" ",t.message," "),u.xp6(1),u.Q6J("ngIf",(null==t.readyFiles?null:t.readyFiles.length)>1),u.xp6(1),u.Q6J("ngIf",1===(null==t.readyFiles?null:t.readyFiles.length)))},directives:[_,n.O5,n.sg,m.f],encapsulation:2,changeDetection:0}),e}();function B(e,t){if(1&e&&(u.TgZ(0,"p",3),u._uU(1),u.TgZ(2,"time"),u._uU(3),u.ALo(4,"date"),u.qZA(),u.qZA()),2&e){var s=u.oxw();u.xp6(1),u.hij("",s.sender," "),u.xp6(2),u.Oqu(u.xi3(4,2,s.date,s.dateFormat))}}var P=function(){function e(){this.dateFormat="shortTime"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-message-quote"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",quote:"quote"},decls:5,vars:4,consts:[["class","sender",4,"ngIf"],[1,"quote"],[3,"message"],[1,"sender"]],template:function(e,t){1&e&&(u.YNc(0,B,5,5,"p",0),u.TgZ(1,"p",1),u._uU(2),u.qZA(),u.TgZ(3,"nb-chat-message-text",2),u._uU(4),u.qZA()),2&e&&(u.Q6J("ngIf",t.sender||t.date),u.xp6(2),u.hij(" ",t.quote," "),u.xp6(1),u.Q6J("message",t.message),u.xp6(1),u.hij(" ",t.message," "))},directives:[n.O5,_],pipes:[n.uU],encapsulation:2,changeDetection:0}),e}(),U=function(){return function(){}}(),Y=function(e){return[e]},z=function(){function e(e){this.dateFormat="shortTime",this.mapKey=e.messageGoogleMapKey}return Object.defineProperty(e.prototype,"file",{get:function(){return{url:"https://maps.googleapis.com/maps/api/staticmap?center="+this.latitude+","+this.longitude+"&zoom=12&size=400x400&key="+this.mapKey,type:"image/png",icon:"location"}},enumerable:!1,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(u.Y36(U))},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-message-map"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",latitude:"latitude",longitude:"longitude"},decls:1,vars:7,consts:[[3,"files","message","sender","date","dateFormat"]],template:function(e,t){1&e&&u._UZ(0,"nb-chat-message-file",0),2&e&&u.Q6J("files",u.VKq(5,Y,t.file))("message",t.message)("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)},directives:[j],encapsulation:2,changeDetection:0}),e}();function E(e,t){if(1&e&&u._UZ(0,"nb-chat-avatar",4),2&e){var s=u.oxw();u.Q6J("initials",s.getInitials())("avatarStyle",s.avatarStyle)}}function H(e,t){if(1&e&&u._UZ(0,"nb-chat-message-file",10),2&e){var s=u.oxw(2);u.Q6J("sender",s.sender)("date",s.date)("dateFormat",s.dateFormat)("message",s.message)("files",s.files)}}function R(e,t){if(1&e&&u._UZ(0,"nb-chat-message-quote",11),2&e){var s=u.oxw(2);u.Q6J("sender",s.sender)("date",s.date)("dateFormat",s.dateFormat)("message",s.message)("quote",s.quote)}}function $(e,t){if(1&e&&u._UZ(0,"nb-chat-message-map",12),2&e){var s=u.oxw(2);u.Q6J("sender",s.sender)("date",s.date)("message",s.message)("latitude",s.latitude)("longitude",s.longitude)}}function X(e,t){if(1&e&&u._UZ(0,"nb-chat-message-text",13),2&e){var s=u.oxw(2);u.Q6J("sender",s.sender)("date",s.date)("dateFormat",s.dateFormat)("message",s.message)}}function G(e,t){if(1&e&&(u.ynx(0,5),u.YNc(1,H,1,5,"nb-chat-message-file",6),u.YNc(2,R,1,5,"nb-chat-message-quote",7),u.YNc(3,$,1,5,"nb-chat-message-map",8),u.YNc(4,X,1,4,"nb-chat-message-text",9),u.BQk()),2&e){var s=u.oxw();u.Q6J("ngSwitch",s.type),u.xp6(1),u.Q6J("ngSwitchCase","file"),u.xp6(1),u.Q6J("ngSwitchCase","quote"),u.xp6(1),u.Q6J("ngSwitchCase","map")}}function L(e,t){if(1&e&&(u._UZ(0,"nb-chat-message-text",13),u.TgZ(1,"div"),u.GkF(2,14),u.qZA()),2&e){var s=u.oxw();u.Q6J("sender",s.sender)("date",s.date)("dateFormat",s.dateFormat)("message",s.message),u.xp6(1),u.ekj("nb-custom-message",s._areDefaultStylesEnabled())("nb-custom-message-no-space",s._addNoSpaceClass)("nb-custom-message-reply",s._addReplyClass)("nb-custom-message-not-reply",s._addNotReplyClass)("nb-custom-message-full-width",!s._areDefaultStylesEnabled()),u.xp6(1),u.Q6J("ngTemplateOutlet",s._getTemplate())("ngTemplateOutletContext",s._getTemplateContext())}}var V=function(){function e(e,t){this.domSanitizer=e,this.customMessageService=t,this.builtInMessageTypes=["text","file","map","quote"],this._reply=!1}return Object.defineProperty(e.prototype,"_addReplyClass",{get:function(){return this._areDefaultStylesEnabled()&&this.reply},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_addNotReplyClass",{get:function(){return this._areDefaultStylesEnabled()&&this.notReply},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_addNoSpaceClass",{get:function(){return this._areDefaultStylesEnabled()&&!this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyInOut",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notReply",{get:function(){return!this.reply},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reply",{get:function(){return this._reply},set:function(e){this._reply=(0,l.eB)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"avatar",{set:function(e){this.avatarStyle=e?this.domSanitizer.bypassSecurityTrustStyle("url("+e+")"):null},enumerable:!1,configurable:!0}),e.prototype.getInitials=function(){return this.sender?this.sender.split(" ").map(function(e){return e.charAt(0)}).splice(0,2).join("").toUpperCase():""},e.prototype._isBuiltInMessageType=function(){return null==this.type||this.builtInMessageTypes.includes(this.type)},e.prototype._getTemplate=function(){return this.getCustomMessage(this.type).templateRef},e.prototype._getTemplateContext=function(){return{$implicit:this.customMessageData,isReply:this.reply}},e.prototype._areDefaultStylesEnabled=function(){return!this.getCustomMessage(this.type).noStyles},e.prototype.getCustomMessage=function(e){var t=this.customMessageService.getInstance(e);if(!t)throw new Error("nb-chat: Can't find template for custom type '"+e+"'. Make sure you provide it in the chat component with *nbCustomMessage='"+e+"'.");return t},e.\u0275fac=function(t){return new(t||e)(u.Y36(c.H7),u.Y36(Z))},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-message"]],hostVars:5,hostBindings:function(e,t){2&e&&(u.d8E("@flyInOut",t.flyInOut),u.ekj("not-reply",t.notReply)("reply",t.reply))},inputs:{reply:"reply",message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",files:"files",quote:"quote",latitude:"latitude",longitude:"longitude",avatar:"avatar",type:"type",customMessageData:"customMessageData"},decls:5,vars:3,consts:[[3,"initials","avatarStyle",4,"ngIf"],[1,"message"],[3,"ngSwitch",4,"ngIf","ngIfElse"],["customTemplate",""],[3,"initials","avatarStyle"],[3,"ngSwitch"],[3,"sender","date","dateFormat","message","files",4,"ngSwitchCase"],[3,"sender","date","dateFormat","message","quote",4,"ngSwitchCase"],[3,"sender","date","message","latitude","longitude",4,"ngSwitchCase"],[3,"sender","date","dateFormat","message",4,"ngSwitchDefault"],[3,"sender","date","dateFormat","message","files"],[3,"sender","date","dateFormat","message","quote"],[3,"sender","date","message","latitude","longitude"],[3,"sender","date","dateFormat","message"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){if(1&e&&(u.YNc(0,E,1,2,"nb-chat-avatar",0),u.TgZ(1,"div",1),u.YNc(2,G,5,4,"ng-container",2),u.qZA(),u.YNc(3,L,3,16,"ng-template",null,3,u.W1O)),2&e){var s=u.MAs(4);u.Q6J("ngIf",t.notReply),u.xp6(2),u.Q6J("ngIf",t._isBuiltInMessageType())("ngIfElse",s)}},directives:[n.O5,O,n.RF,n.n9,n.ED,j,P,z,_,n.tP],encapsulation:2,data:{animation:[(0,M.X$)("flyInOut",[(0,M.SB)("in",(0,M.oB)({transform:"translateX(0)"})),(0,M.eR)("void => *",[(0,M.oB)({transform:"translateX(-100%)"}),(0,M.jt)(80)]),(0,M.eR)("* => void",[(0,M.jt)(80,(0,M.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0}),e}(),W=s(11590),K=["scrollable"];function ee(e,t){if(1&e&&(u.TgZ(0,"p",6),u._uU(1),u.qZA()),2&e){var s=u.oxw();u.xp6(1),u.Oqu(s.noMessagesPlaceholder)}}var te=[[["nb-chat-message"]],[["nb-chat-form"]]],se=["nb-chat-message","nb-chat-form"],ne=function(){function e(e){this.statusService=e,this.status="basic",this.noMessagesPlaceholder="No messages yet.",this._scrollBottom=!0}return Object.defineProperty(e.prototype,"scrollBottom",{get:function(){return this._scrollBottom},set:function(e){this._scrollBottom=(0,l.eB)(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnChanges=function(e){"status"in e&&this.updateFormStatus()},e.prototype.ngAfterContentInit=function(){this.updateFormStatus()},e.prototype.ngAfterViewInit=function(){var e=this;this.messages.changes.subscribe(function(t){e.messages=t,e.updateView()}),this.updateView()},e.prototype.updateView=function(){this.scrollBottom&&this.scrollListBottom()},e.prototype.scrollListBottom=function(){this.scrollable.nativeElement.scrollTop=this.scrollable.nativeElement.scrollHeight},e.prototype.updateFormStatus=function(){this.chatForm&&this.chatForm.setStatus(this.status)},Object.defineProperty(e.prototype,"tiny",{get:function(){return"tiny"===this.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"small",{get:function(){return"small"===this.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"medium",{get:function(){return"medium"===this.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"large",{get:function(){return"large"===this.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"giant",{get:function(){return"giant"===this.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"primary",{get:function(){return"primary"===this.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"success",{get:function(){return"success"===this.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"info",{get:function(){return"info"===this.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"warning",{get:function(){return"warning"===this.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"danger",{get:function(){return"danger"===this.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"basic",{get:function(){return"basic"===this.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return"control"===this.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"additionalClasses",{get:function(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]},enumerable:!1,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(u.Y36(W.Y))},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat"]],contentQueries:function(e,t,s){if(1&e&&(u.Suo(s,F,5),u.Suo(s,V,4)),2&e){var n=void 0;u.iGM(n=u.CRH())&&(t.chatForm=n.first),u.iGM(n=u.CRH())&&(t.messages=n)}},viewQuery:function(e,t){var s;1&e&&u.Gf(K,5),2&e&&u.iGM(s=u.CRH())&&(t.scrollable=s.first)},hostVars:26,hostBindings:function(e,t){2&e&&(u.Tol(t.additionalClasses),u.ekj("size-tiny",t.tiny)("size-small",t.small)("size-medium",t.medium)("size-large",t.large)("size-giant",t.giant)("status-primary",t.primary)("status-success",t.success)("status-info",t.info)("status-warning",t.warning)("status-danger",t.danger)("status-basic",t.basic)("status-control",t.control))},inputs:{title:"title",size:"size",status:"status",noMessagesPlaceholder:"noMessagesPlaceholder",scrollBottom:"scrollBottom"},features:[u._Bn([Z]),u.TTD],ngContentSelectors:se,decls:9,vars:2,consts:[[1,"header"],[1,"scrollable"],["scrollable",""],[1,"messages"],["class","no-messages",4,"ngIf"],[1,"form"],[1,"no-messages"]],template:function(e,t){1&e&&(u.F$t(te),u.TgZ(0,"div",0),u._uU(1),u.qZA(),u.TgZ(2,"div",1,2),u.TgZ(4,"div",3),u.Hsn(5),u.YNc(6,ee,2,1,"p",4),u.qZA(),u.qZA(),u.TgZ(7,"div",5),u.Hsn(8,1),u.qZA()),2&e&&(u.xp6(1),u.Oqu(t.title),u.xp6(5),u.Q6J("ngIf",!(null!=t.messages&&t.messages.length)))},directives:[n.O5],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative;height:100%}"]}),e}(),ae=function(){function e(e,t){this.templateRef=e,this.customMessageService=t,this._noStyles=!1}return Object.defineProperty(e.prototype,"nbCustomMessage",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nbCustomMessageNoStyles",{get:function(){return this._noStyles},set:function(e){this._noStyles=(0,l.eB)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noStyles",{get:function(){return this.nbCustomMessageNoStyles},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this._type||function(){throw new Error("[nbCustomMessage]: custom message type is required.")}(),this.customMessageService.register(this.type,this)},e.prototype.ngOnDestroy=function(){this.customMessageService.unregister(this.type)},e.\u0275fac=function(t){return new(t||e)(u.Y36(u.Rgc),u.Y36(Z))},e.\u0275dir=u.lG2({type:e,selectors:[["","nbCustomMessage",""]],inputs:{nbCustomMessage:"nbCustomMessage",nbCustomMessageNoStyles:"nbCustomMessageNoStyles"}}),e}(),oe=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:U,useValue:t||{}}]}},e.forChild=function(t){return{ngModule:e,providers:[{provide:U,useValue:t||{}}]}},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[a.P,i.K,r.n,o.T]]}),e}(),re=s(55074),ie=s(63260);function le(e,t){if(1&e&&u._UZ(0,"nb-chat-message",4),2&e){var s=t.$implicit;u.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("avatar",s.user.avatar)}}function ue(e,t){if(1&e){var s=u.EpF();u.TgZ(0,"nb-chat",1),u.YNc(1,le,1,7,"nb-chat-message",2),u.TgZ(2,"nb-chat-form",3),u.NdJ("send",function(e){var t=u.CHM(s).$implicit;return u.oxw().sendMessage(t.messages,e)}),u.qZA(),u.qZA()}if(2&e){var n=t.$implicit;u.Q6J("title",n.title)("status",n.status),u.xp6(1),u.Q6J("ngForOf",n.messages)}}var ce=function(){function e(){this.chats=[{status:"success",title:"Nebular Conversational UI Success",messages:[{text:"Success!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"danger",title:"Nebular Conversational UI Danger",messages:[{text:"Danger!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"primary",title:"Nebular Conversational UI Primary",messages:[{text:"Primary!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"info",title:"Nebular Conversational UI Info",messages:[{text:"Info!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"warning",title:"Nebular Conversational UI Warning",messages:[{text:"Warning!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]}]}return e.prototype.sendMessage=function(e,t){e.push({text:t.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-colors"]],decls:1,vars:1,consts:[["size","small",3,"title","status",4,"ngFor","ngForOf"],["size","small",3,"title","status"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(e,t){1&e&&u.YNc(0,ue,3,3,"nb-chat",0),2&e&&u.Q6J("ngForOf",t.chats)},directives:[n.sg,ne,F,V],styles:["nb-layout-column{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-ms-flexbox;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px;margin:.5rem 0 2rem 2rem}"]}),e}();function pe(e,t){if(1&e&&u._UZ(0,"nb-chat-message",4),2&e){var s=t.$implicit;u.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("quote",s.quote)("latitude",s.latitude)("longitude",s.longitude)("avatar",s.user.avatar)}}function ge(e,t){if(1&e&&u._UZ(0,"nb-chat-message",4),2&e){var s=t.$implicit;u.Q6J("type",s.type)("message",s.text)("reply",!s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("quote",s.quote)("latitude",s.latitude)("longitude",s.longitude)("avatar",s.user.avatar)}}var me=function(){function e(){this.messages=[]}return e.prototype.sendMessage=function(e,t,s,n){var a=e.files?e.files.map(function(e){return{url:e.src,type:e.type,icon:"file-text-outline"}}):[];this.messages.push({text:e.message,date:new Date,reply:n,type:a.length?"file":"text",files:a,user:{name:t,avatar:s}})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-conversation-showcase"]],decls:6,vars:6,consts:[["title","Jake","size","medium","status","warning"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"showButton","dropFiles","send"],["title","John","size","medium","status","success"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(e,t){1&e&&(u.TgZ(0,"nb-chat",0),u.YNc(1,pe,1,10,"nb-chat-message",1),u.TgZ(2,"nb-chat-form",2),u.NdJ("send",function(e){return t.sendMessage(e,"Jake","http://www.reactiongifs.com/r/wnd1.gif",!0)}),u.qZA(),u.qZA(),u.TgZ(3,"nb-chat",3),u.YNc(4,ge,1,10,"nb-chat-message",1),u.TgZ(5,"nb-chat-form",2),u.NdJ("send",function(e){return t.sendMessage(e,"John","https://i.gifer.com/no.gif",!1)}),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("ngForOf",t.messages),u.xp6(1),u.Q6J("showButton",!1)("dropFiles",!0),u.xp6(2),u.Q6J("ngForOf",t.messages),u.xp6(1),u.Q6J("showButton",!1)("dropFiles",!0))},directives:[ne,n.sg,F,V],styles:["nb-layout-column{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}nb-chat[_ngcontent-%COMP%]{width:300px;margin:1rem}"]}),e}();function fe(e,t){if(1&e&&u._UZ(0,"nb-chat-message",3),2&e){var s=t.$implicit;u.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("avatar",s.user.avatar)}}var de=function(){function e(){this.messages=[{text:"Drag & drop a file or a group of files.",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://i.gifer.com/no.gif"}}]}return e.prototype.sendMessage=function(e){var t=e.files?e.files.map(function(e){return{url:e.src,type:e.type,icon:"file-text-outline"}}):[];this.messages.push({text:e.message,date:new Date,files:t,type:t.length?"file":"text",reply:!0,user:{name:"Jonh Doe",avatar:"https://i.gifer.com/no.gif"}})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-drop"]],decls:3,vars:2,consts:[["title","Drag & Drop chat","size","medium"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"dropFiles","send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(e,t){1&e&&(u.TgZ(0,"nb-chat",0),u.YNc(1,fe,1,7,"nb-chat-message",1),u.TgZ(2,"nb-chat-form",2),u.NdJ("send",function(e){return t.sendMessage(e)}),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("ngForOf",t.messages),u.xp6(1),u.Q6J("dropFiles",!0))},directives:[ne,n.sg,F,V],styles:["nb-layout-column{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-ms-flexbox;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px;height:80vw}"]}),e}(),he=function(){return{url:"http://www.reactiongifs.com/r/wnd1.gif",type:"image/gif"}},ye=function(e){return[e]},be=function(){return{url:"https://picsum.photos/320/240/?image=387",type:"image/jpeg"}},ve=function(){return{url:"http://google.com",icon:"file-text-outline"}},xe=function(e,t,s){return[e,t,s]},we=function(){function e(){this.date=new Date}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-message-type-showcase"]],decls:7,vars:35,consts:[["title","Message Types","size","large"],["message","Gif message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"],["message","Image message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"],["message","Map message","type","map","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","latitude","longitude"],["message","File message","type","file","sender","John Doe",3,"reply","date","files","avatar"],["message","Quote message","type","quote","sender","John Doe","quote","Quooted message here","avatar","https://i.gifer.com/no.gif",3,"reply","date"],["message","Group of files message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"]],template:function(e,t){1&e&&(u.TgZ(0,"nb-chat",0),u._UZ(1,"nb-chat-message",1),u._UZ(2,"nb-chat-message",2),u._UZ(3,"nb-chat-message",3),u._UZ(4,"nb-chat-message",4),u._UZ(5,"nb-chat-message",5),u._UZ(6,"nb-chat-message",6),u.qZA()),2&e&&(u.xp6(1),u.Q6J("reply",!0)("date",t.date)("files",u.VKq(20,ye,u.DdM(19,he))),u.xp6(1),u.Q6J("reply",!0)("date",t.date)("files",u.VKq(23,ye,u.DdM(22,be))),u.xp6(1),u.Q6J("reply",!0)("date",t.date)("latitude",53.914321)("longitude",27.5998355),u.xp6(1),u.Q6J("reply",!0)("date",t.date)("files",u.VKq(26,ye,u.DdM(25,ve)))("avatar","https://i.gifer.com/no.gif"),u.xp6(1),u.Q6J("reply",!0)("date",t.date),u.xp6(1),u.Q6J("reply",!0)("date",t.date)("files",u.kEZ(31,xe,u.DdM(28,ve),u.DdM(29,be),u.DdM(30,he))))},directives:[ne,V],styles:["nb-chat[_ngcontent-%COMP%]{margin:0 auto;width:500px}"]}),e}(),Fe=[{text:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",reply:!1,date:new Date,user:{name:"John Doe",avatar:"https://i.gifer.com/no.gif"}},{text:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",reply:!0,date:new Date,user:{name:"John Doe",avatar:"https://i.gifer.com/no.gif"}},{text:"Hello, how are you?",reply:!1,date:new Date,user:{name:"John Doe",avatar:""}},{text:"Hey looks at that pic I just found!",reply:!1,date:new Date,type:"file",files:[{url:"https://i.gifer.com/no.gif",type:"image/jpeg",icon:!1}],user:{name:"John Doe",avatar:""}},{text:"What do you mean by that?",reply:!1,date:new Date,type:"quote",quote:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",user:{name:"John Doe",avatar:""}},{text:"Attached is an archive I mentioned",reply:!0,date:new Date,type:"file",files:[{url:"https://i.gifer.com/no.gif",icon:"file-text-outline"}],user:{name:"John Doe",avatar:""}},{text:"Meet me there",reply:!1,date:new Date,type:"map",latitude:40.714728,longitude:-73.998672,user:{name:"John Doe",avatar:""}}],Me="https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png",Ze=["https://media.tenor.com/images/ac287fd06319e47b1533737662d5bfe8/tenor.gif","https://i.gifer.com/no.gif","https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif","http://www.reactiongifs.com/r/wnd1.gif"],Je=["https://picsum.photos/320/240/?image=357","https://picsum.photos/320/240/?image=556","https://picsum.photos/320/240/?image=339","https://picsum.photos/320/240/?image=387","https://picsum.photos/320/240/?image=30","https://picsum.photos/320/240/?image=271"],Oe="http://google.com",De=[{regExp:/([H,h]ey)|([H,h]i)/g,answerArray:["Hello!","Yes?","Yes, milord?","What can I do for you?"],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:Me}}},{regExp:/([H,h]elp)/g,answerArray:['No problem! Try sending a message containing word "hey", "image",\n    "gif", "file", "map", "quote", "file group" to see different message components'],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:Me}}},{regExp:/([I,i]mage)|(IMAGE)|([P,p]ic)|(Picture)/g,answerArray:["Hey look at this!","Ready to work","Yes, master."],type:"pic",reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:"",type:"image/jpeg"}],user:{name:"Bot",avatar:Me}}},{regExp:/([G,g]if)|(GIF)/g,type:"gif",answerArray:["No problem","Well done","You got it man"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:"",type:"image/gif"}],user:{name:"Bot",avatar:Me}}},{regExp:/([F,f]ile group)|(FILE)/g,type:"group",answerArray:["Take it!","Job Done.","As you wish"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:Oe,icon:"file-text-outline"},{url:"",type:"image/gif"},{url:"",type:"image/jpeg"}],icon:"file-text-outline",user:{name:"Bot",avatar:Me}}},{regExp:/([F,f]ile)|(FILE)/g,type:"file",answerArray:["Take it!","Job Done.","As you wish"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:Oe,icon:"file-text-outline"}],icon:"file-text-outline",user:{name:"Bot",avatar:Me}}},{regExp:/([M,m]ap)|(MAP)/g,type:"map",answerArray:["Done.","My sight is yours.","I shall be your eyes."],reply:{text:"",reply:!1,date:new Date,type:"map",latitude:53.914321,longitude:27.5998355,user:{name:"Bot",avatar:Me}}},{regExp:/([Q,q]uote)|(QUOTE)/g,type:"quote",answerArray:["Quoted!","Say no more.","I gladly obey."],reply:{text:"",reply:!1,date:new Date,type:"quote",quote:"",user:{name:"Bot",avatar:Me}}},{regExp:/(.*)/g,answerArray:['Hello there! Try typing "help"'],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:Me}}}],qe=function(){return(qe=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var a in t=arguments[s])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},_e=function(){function e(){}return e.prototype.loadMessages=function(){return Fe},e.prototype.loadBotReplies=function(){return De},e.prototype.reply=function(e){var t=this.loadBotReplies().find(function(t){return-1!==e.search(t.regExp)});return"quote"===t.reply.type&&(t.reply.quote=e),"gif"===t.type&&(t.reply.files[0].url=Ze[Math.floor(Math.random()*Ze.length)]),"pic"===t.type&&(t.reply.files[0].url=Je[Math.floor(Math.random()*Je.length)]),"group"===t.type&&(t.reply.files[1].url=Ze[Math.floor(Math.random()*Ze.length)],t.reply.files[2].url=Je[Math.floor(Math.random()*Je.length)]),t.reply.text=t.answerArray[Math.floor(Math.random()*t.answerArray.length)],qe({},t.reply)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}();function Ce(e,t){if(1&e&&u._UZ(0,"nb-chat-message",3),2&e){var s=t.$implicit;u.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("quote",s.quote)("latitude",s.latitude)("longitude",s.longitude)("avatar",s.user.avatar)}}var Se=function(){function e(e){this.chatShowcaseService=e,this.messages=this.chatShowcaseService.loadMessages()}return e.prototype.sendMessage=function(e){var t=this,s=e.files?e.files.map(function(e){return{url:e.src,type:e.type,icon:"file-text-outline"}}):[];this.messages.push({text:e.message,date:new Date,reply:!0,type:s.length?"file":"text",files:s,user:{name:"Jonh Doe",avatar:"https://i.gifer.com/no.gif"}});var n=this.chatShowcaseService.reply(e.message);n&&setTimeout(function(){t.messages.push(n)},500)},e.\u0275fac=function(t){return new(t||e)(u.Y36(_e))},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-showcase"]],features:[u._Bn([_e])],decls:3,vars:2,consts:[["title","Nebular Conversational UI","size","large"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"dropFiles","send"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(e,t){1&e&&(u.TgZ(0,"nb-chat",0),u.YNc(1,Ce,1,10,"nb-chat-message",1),u.TgZ(2,"nb-chat-form",2),u.NdJ("send",function(e){return t.sendMessage(e)}),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("ngForOf",t.messages),u.xp6(1),u.Q6J("dropFiles",!0))},directives:[ne,n.sg,F,V],styles:["nb-layout-column{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-ms-flexbox;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px}"]}),e}();function Te(e,t){if(1&e&&u._UZ(0,"nb-chat-message",4),2&e){var s=t.$implicit;u.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("avatar",s.user.avatar)}}function Qe(e,t){if(1&e){var s=u.EpF();u.TgZ(0,"nb-chat",1),u.YNc(1,Te,1,7,"nb-chat-message",2),u.TgZ(2,"nb-chat-form",3),u.NdJ("send",function(e){var t=u.CHM(s).$implicit;return u.oxw().sendMessage(t.messages,e)}),u.qZA(),u.qZA()}if(2&e){var n=t.$implicit;u.Q6J("title",n.title)("size",n.size),u.xp6(1),u.Q6J("ngForOf",n.messages)}}var Ie=function(){function e(){this.chats=[{title:"Nebular Conversational UI Small",messages:[{text:"Small!",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://i.gifer.com/no.gif"}}],size:"small"},{title:"Nebular Conversational UI Medium",messages:[{text:"Medium!",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}],size:"large"}]}return e.prototype.sendMessage=function(e,t){e.push({text:t.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-sizes"]],decls:1,vars:1,consts:[["status","info",3,"title","size",4,"ngFor","ngForOf"],["status","info",3,"title","size"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(e,t){1&e&&u.YNc(0,Qe,3,3,"nb-chat",0),2&e&&u.Q6J("ngForOf",t.chats)},directives:[n.sg,ne,F,V],styles:["nb-layout-column{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-ms-flexbox;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px;margin:.5rem 0 2rem 2rem}"]}),e}();function Ne(e,t){if(1&e&&u._UZ(0,"nb-chat-message",4),2&e){var s=t.$implicit;u.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("quote",s.quote)("latitude",s.latitude)("longitude",s.longitude)("avatar",s.user.avatar)}}function ke(e,t){if(1&e){var s=u.EpF();u.TgZ(0,"nb-chat",1),u.YNc(1,Ne,1,10,"nb-chat-message",2),u.TgZ(2,"nb-chat-form",3),u.NdJ("send",function(e){return u.CHM(s),u.oxw().sendMessage(e)}),u.qZA(),u.qZA()}if(2&e){var n=t.$implicit,a=u.oxw();u.Q6J("size",n.size)("status",n.status),u.xp6(1),u.Q6J("ngForOf",a.messages)}}var Ae=function(){function e(){this.messages=[],this.sizes=["tiny","small","medium","large","giant"],this.statuses=["primary","success","info","warning","danger"],this.chats=this.prepareChats()}return e.prototype.prepareChats=function(){var e=this,t=[];return this.statuses.forEach(function(s){e.sizes.forEach(function(e){t.push({size:e,status:s})})}),t},e.prototype.sendMessage=function(e){this.messages.push({text:e.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-chat-test"]],decls:1,vars:1,consts:[[3,"size","status",4,"ngFor","ngForOf"],[3,"size","status"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(e,t){1&e&&u.YNc(0,ke,3,3,"nb-chat",0),2&e&&u.Q6J("ngForOf",t.chats)},directives:[n.sg,ne,F,V],encapsulation:2}),e}();function je(e,t){if(1&e&&(u.TgZ(0,"th"),u._uU(1),u.qZA()),2&e){var s=t.$implicit;u.xp6(1),u.Oqu(s)}}function Be(e,t){if(1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.qZA()),2&e){var s=t.$implicit;u.xp6(2),u.Oqu(s.firstName),u.xp6(2),u.Oqu(s.lastName),u.xp6(2),u.Oqu(s.age)}}var Pe=function(){function e(){this.columns=[],this.rows=[]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["nb-custom-message-table"]],hostVars:2,hostBindings:function(e,t){2&e&&u.ekj("reply",t.isReply)},inputs:{columns:"columns",rows:"rows",isReply:"isReply"},decls:6,vars:2,consts:[[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(u.TgZ(0,"table"),u.TgZ(1,"thead"),u.TgZ(2,"tr"),u.YNc(3,je,2,1,"th",0),u.qZA(),u.qZA(),u.TgZ(4,"tbody"),u.YNc(5,Be,7,3,"tr",0),u.qZA(),u.qZA()),2&e&&(u.xp6(3),u.Q6J("ngForOf",t.columns),u.xp6(2),u.Q6J("ngForOf",t.rows))},directives:[n.sg],styles:["[_nghost-%COMP%]{display:block;margin-top:.5rem;padding:1rem;border-radius:.5rem}.reply[_nghost-%COMP%]{background:#f7f9fc}[dir=ltr]   .reply[_nghost-%COMP%]{border-top-right-radius:0}[dir=rtl]   .reply[_nghost-%COMP%]{border-top-left-radius:0}[_nghost-%COMP%]:not(.reply){background:#36f;color:#fff}[dir=ltr]   [_nghost-%COMP%]:not(.reply){border-top-left-radius:0}[dir=rtl]   [_nghost-%COMP%]:not(.reply){border-top-right-radius:0}table[_ngcontent-%COMP%]{width:100%}"]}),e}();function Ue(e,t){if(1&e&&(u.TgZ(0,"a",7),u._uU(1),u.qZA()),2&e){var s=t.$implicit;u.Q6J("href",s.href,u.LSH),u.xp6(1),u.hij(" ",s.text," ")}}function Ye(e,t){if(1&e){var s=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"p",8),u._uU(2,"Wow! Button in a message!"),u.qZA(),u.TgZ(3,"button",9),u.NdJ("click",function(){return u.CHM(s),u.oxw(),u.MAs(1).scrollListBottom()}),u._uU(4),u.qZA(),u.qZA()}if(2&e){var n=t.$implicit;u.xp6(4),u.hij(" ",n," ")}}function ze(e,t){if(1&e&&u._UZ(0,"nb-custom-message-table",10),2&e){var s=t.$implicit,n=t.isReply;u.Q6J("columns",s.columns)("rows",s.rows)("isReply",n)}}function Ee(e,t){if(1&e&&u._UZ(0,"nb-chat-message",11),2&e){var s=t.$implicit;u.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("customMessageData",s.customMessageData)}}var He=[{path:"chat-colors.component",component:ce},{path:"chat-conversation-showcase.component",component:me},{path:"chat-drop.component",component:de},{path:"chat-message-types-showcase.component",component:we},{path:"chat-showcase.component",component:Se},{path:"chat-sizes.component",component:Ie},{path:"chat-test.component",component:Ae},{path:"chat-custom-message.component",component:function(){function e(){this.tableData={columns:["First Name","Last Name","Age"],rows:[{firstName:"Robert",lastName:"Baratheon",age:46},{firstName:"Jaime",lastName:"Lannister",age:31}]},this.messages=[]}return e.prototype.ngOnInit=function(){this.loadMessages()},e.prototype.sendMessage=function(e){this.messages.push({text:e.message,date:new Date,reply:!0,type:"text",user:{name:"Gandalf the Grey",avatar:"https://i.gifer.com/no.gif"}})},e.prototype.loadMessages=function(){this.messages=[{type:"link",text:"Now you able to use links!",customMessageData:{href:"https://akveo.github.io/nebular/",text:"Go to Nebular"},reply:!1,date:new Date,user:{name:"Frodo Baggins",avatar:"https://i.gifer.com/no.gif"}},{type:"link",customMessageData:{href:"https://akveo.github.io/ngx-admin/",text:"Go to ngx-admin"},reply:!0,date:new Date,user:{name:"Meriadoc Brandybuck",avatar:"https://i.gifer.com/no.gif"}},{type:"button",customMessageData:"Click to scroll down",reply:!1,date:new Date,user:{name:"Gimli Gloin",avatar:""}},{type:"table",text:"Now let's try to add a table",customMessageData:this.tableData,reply:!1,date:new Date,user:{name:"Fredegar Bolger",avatar:"https://i.gifer.com/no.gif"}},{type:"table",text:"And one more table but now in the reply",customMessageData:this.tableData,reply:!0,date:new Date,user:{name:"Fredegar Bolger",avatar:"https://i.gifer.com/no.gif"}}]},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],decls:7,vars:7,consts:[["title","Nebular Conversational UI","size","large",3,"scrollBottom"],["chatComponent",""],["target","_blank",3,"href",4,"nbCustomMessage"],[4,"nbCustomMessage"],[3,"columns","rows","isReply",4,"nbCustomMessage","nbCustomMessageNoStyles"],[3,"type","message","reply","sender","date","customMessageData",4,"ngFor","ngForOf"],[3,"dropFiles","send"],["target","_blank",3,"href"],[1,"text-control","button-custom-message-text"],["nbButton","","status","control",3,"click"],[3,"columns","rows","isReply"],[3,"type","message","reply","sender","date","customMessageData"]],template:function(e,t){1&e&&(u.TgZ(0,"nb-chat",0,1),u.YNc(2,Ue,2,2,"a",2),u.YNc(3,Ye,5,1,"div",3),u.YNc(4,ze,1,3,"nb-custom-message-table",4),u.YNc(5,Ee,1,6,"nb-chat-message",5),u.TgZ(6,"nb-chat-form",6),u.NdJ("send",function(e){return t.sendMessage(e)}),u.qZA(),u.qZA()),2&e&&(u.Q6J("scrollBottom",!1),u.xp6(2),u.Q6J("nbCustomMessage","link"),u.xp6(1),u.Q6J("nbCustomMessage","button"),u.xp6(1),u.Q6J("nbCustomMessage","table")("nbCustomMessageNoStyles",!0),u.xp6(1),u.Q6J("ngForOf",t.messages),u.xp6(1),u.Q6J("dropFiles",!1))},directives:[ne,ae,n.sg,F,f.D,Pe,V],styles:["nb-chat[_ngcontent-%COMP%]{width:500px;margin:0 auto}img[_ngcontent-%COMP%]{width:100%;height:auto}.button-custom-message-text[_ngcontent-%COMP%]{margin-top:0}"],changeDetection:0}),e}()}],Re=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[ie.Bz.forChild(He)],ie.Bz]}),e}(),$e=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[n.ez,oe.forRoot(),re.z,o.T,Re]]}),e}()}}]);